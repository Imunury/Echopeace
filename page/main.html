<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main</title>
    <link href="/css/main.css" media="screen and (min-width: 768px)" rel="stylesheet">
    <link href="/css/main-mobile.css" media="screen and (max-width:768px)" rel="stylesheet">
</head>

<body>
    <div class="main_empty"></div>
    <div class="main_empty_dot"></div>
    <div id="header"></div>
    <div id="uparrow"></div>

    <div id="section1" class="main_container1">


        <div class="heading_title">


            <div class="heading_title_left">

                <div>
                    <p>A Company</p>
                    <p>Specializing in</p>
                    <p>Water Purification</p>
                </div>
                <div>
                    <p>ECOPEACE는 친환경 수질 개선 솔루션을 제공하는 수질정화 전문 기업입니다.</p>
                </div>
                <div>
                    <button class="main_button" onclick="gotoCompany()">Find out more →</button>
                </div>
            </div>

            <!-- swiper -->
            <div class="heading_title_right">
                <div class="swiper mySwiper">

                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <img id="img0" class="business_img_change" src="/public/images/addition/activity1.jpg">
                            <div>
                                <p>ECOPEACE VISION</p>
                                <p>① Specific
                                    ② Measurable
                                    ③ Attainable
                                    ④ Result-oriented
                                    ⑤ Time bound</p>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <img id="img1" class="business_img" src="/public/images/addition/activity2.jpg">
                            <div>
                                <p>ECOPEACE MISSION</p>
                                <p>Business for water Benefiting people and the planet</p>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <img id="img2" class="business_img" src="/public/images/addition/activity3.jpg">
                            <div>
                                <p>ECOPEACE VISION</p>
                                <p>Sustainable Innovation Development</p>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <img id="img3" class="business_img" src="/public/assets/uploads/43106_43247_339.jpg">
                            <div>
                                <p>ECOPEACE STRATEGY</p>

                            </div>
                        </div>
                        <div class="swiper-slide">
                            <img id="img4" class="business_img" src="/public/assets/uploads/example.jpg">
                            <div>
                                <p>ECOPEACE VISION</p>
                                <p>adfasdfasdfasdf</p>
                            </div>
                        </div>
                        <div class="swiper-slide">
                            <img id="img5" class="business_img" src="/public/assets/uploads/example.jpg">
                            <div>
                                <p>ECOPEACE VISION</p>
                                <p>adfasdfasdfasdf</p>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="swiper-button-next"></div> -->
                    <!-- <div class="swiper-button-prev"></div> -->
                    <div class="swiper-pagination"></div>
                </div>
            </div>
        </div>

    </div>

    <div id="section2" class="main_container">

        <div>
            <img src="../public/images//addition/section2_image.png">
        </div>
        <div>
            <h2>친환경적이고 깨끗하며 안전한 운영 방식을</h2>
            <h2>찾기 위한 혁신은 처음부터 우리 사업의</h2>
            <h2>원동력이었습니다.</h2>
        </div>

    </div>

    <div id="section3" class="main_container">
        <div>
            <p>ECOPEACE </p>
            <p>에코피스는 BIG DATA와 AI, ROBOT 기술 기반의 하이테크 벤처 기업입니다. 소중한 수자원의 오염을 막고 깨끗한 환경을 위해 오늘 그리고 내일로 나아갑니다.
                우리의 삶에서 없어서는 안되는 물! 안전하고 풍족하게 사용할 수 있을 때 잘 관리하면 수자원의 미래는 밝습니다.</p>
        </div>
    </div>
    
    <div id="footer"></div>
    <div class="main_container" style="height: 0rem;"></div>
    <div class="main_container" style="height: 0rem;"></div>

    <!-- script -->
    <script>
        // 이동
        function gotoCompany() {
            window.location.href = 'http://127.0.0.1:5500/page/company.html'
        }
    </script>

    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

    <script type="text/javascript">
        $(document).ready(function () {

            $("#header").load("./header.html");  // 원하는 파일 경로를 삽입하면 된다

        });
    </script>

    <script type="text/javascript">
        $(document).ready(function () {

            $("#footer").load("./footer.html");  // 원하는 파일 경로를 삽입하면 된다

        });
    </script>

    <script type="text/javascript">
        $(document).ready(function () {

            $("#uparrow").load("./uparrow.html");  // 원하는 파일 경로를 삽입하면 된다
        });
    </script>

    <!-- scroll 시 section 이동 -->
    <script>
        window.addEventListener("wheel", function (e) {
            e.preventDefault();
        }, { passive: false });

        var $html = $("html");

        var page = 1;

        var lastPage = $(".main_container").length;

        $html.animate({ scrollTop: 0 }, 1000);

        $(window).on("wheel", function (e) {

            console.log(window.scrollY)

            if ($html.is(":animated")) return;

            if (e.originalEvent.deltaY > 0) {
                if (page == lastPage) return;

                page++;

            } else if (e.originalEvent.deltaY < 0) {
                if (page == 1) return;

                page--;
            }
            var posTop = (page - 1) * $(window).height();

            $html.animate({ scrollTop: posTop });

        });
    </script>

    <!-- 스와이프 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-element-bundle.min.js"></script> -->

    <script>

        var swiper = new Swiper(".mySwiper", {
            slidesPerView: "auto",
            spaceBetween: 0,
            loop: true,
            pagination: {
                el: ".swiper-pagination",
                type: "progressbar",
            },
            navigation: {
                nextEl: ".swiper-button-next",
                prevEl: ".swiper-button-prev",
            },
            // scrollbar: {
            //     el: '.swiper-scrollbar',
            // }
        });

        // 첫 번째 swipe 크기 키우기

        swiper.on('transitionEnd', function () {
            var index = swiper.realIndex;
            // console.log('now index :::', index)
            var img_id = `#` + `img` + index;
            if (index == img_id.substring(4, 5)) {
                // console.log(img_id)
                $('.swiper-slide img').removeClass();
                $('.swiper-slide img').addClass('business_img');
                $('#' + 'img' + index).removeClass();
                $('#' + 'img' + index).addClass('business_img_change');
            }
        })
    </script>

    <!-- 스크롤 내릴 시 애니매이션 -->

    <script>
        $(document).ready(function () {
            $(window).scroll(function () {

                $('.main_container').each(function (i) {

                    var bottom_of_element = $(this).offset().top + $(this).outerHeight();
                    var bottom_of_window = $(window).scrollTop() + $(window).height();

                    if (bottom_of_window > bottom_of_element - 100) {
                        $(this).animate({ 'opacity': '1' }, 400);
                    }

                });
            });
        });
    </script>
</body>

</html>